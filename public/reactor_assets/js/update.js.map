{"version":3,"sources":["update.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"update.js","sourcesContent":[";(function (window) {\n    'use strict';\n\n    // Uploader Constructor\n    function Updater(el) {\n        this._init(el);\n    }\n\n    // Updater\n    Updater.prototype = {\n        _init: function (el) {\n            this.el = el;\n\n            this.progressBar = $('#progress-bar');\n            this.progressMessage = $('#progress-message');\n\n            this.startRoute = this.el.data('startroute');\n\n            this._start();\n        },\n        // Starts the updater\n        _start: function () {\n            this._request(this.startRoute);\n        },\n        _next: function (data) {\n            this.progressMessage.text(data.message);\n\n            if (data.next) {\n                this._request(data.next);\n            } else {\n                this._setComplete();\n            }\n\n        },\n        // Makes an ajax request\n        _request: function (requestURL) {\n            var self = this;\n\n            $.post(requestURL, [], function(data)\n            {\n                self._setProgress(data.progress);\n\n                self._next(data);\n            });\n        },\n        // Sets the width of progress bar\n        _setProgress: function (percent) {\n            this.progressBar.width(percent.toString() + \"%\");\n        },\n        // Sets the update status to complete\n        _setComplete: function()\n        {\n            this.progressBar.addClass('complete');\n        }\n    };\n\n    // Register updater to the window namespace\n    window.Updater = Updater;\n\n})(window);\n\nvar updater = new Updater($('#updater-progress-indicator'));"],"sourceRoot":"/source/"}